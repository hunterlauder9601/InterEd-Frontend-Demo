"use strict";(self.webpackChunkintered_frontend=self.webpackChunkintered_frontend||[]).push([[384],{6384:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var s=r(4165),n=r(5861),a=r(9439),o=r(2791),c=r(673),l=r(2481),i=r(7689),u=r(1087),d=r(6355),f=r(3479),x=r(184);function h(e){var t=e.url,r=e.lessonName,s=e.status,n=e.toggleLessonStatus,c=e.id,l=e.active,i=(0,o.useState)(!1),d=(0,a.Z)(i,2),h=d[0],b=d[1];(0,o.useEffect)((function(){b(!!s)}),[s]);return(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsxs)("label",{className:"relative flex cursor-pointer items-center rounded-full py-3 mr-4",children:[(0,x.jsx)("input",{type:"checkbox",checked:h,onChange:function(){n(c),b(!h)},className:"before:content[''] peer relative h-6 w-6 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all before:absolute before:top-2/4 before:left-2/4 before:block before:h-12 before:w-12 before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:bg-blue-gray-500 before:opacity-0 before:transition-opacity checked:border-green-500 checked:bg-green-500 checked:before:bg-green-500 hover:before:opacity-10"}),(0,x.jsx)("div",{className:"pointer-events-none absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 text-white transition-opacity ".concat(h?"opacity-100":"opacity-0"),children:h&&(0,x.jsx)(f.dZ6,{className:"h-5 w-5"})})]}),l?(0,x.jsx)(u.rU,{to:t,className:h?"bg-gray-400 hover:bg-gray-500 w-full duration-200 text-white px-4 py-2 rounded-3xl text-left":"bg-blue-400 hover:bg-blue-500 w-full duration-200 text-white px-4 py-2 rounded-3xl text-left",children:r}):(0,x.jsx)("button",{className:"".concat(h?"bg-gray-400 hover:bg-gray-500":"bg-blue-400 hover:bg-blue-500"," w-full duration-200 text-white px-4 py-2 rounded-3xl text-left cursor-not-allowed"),children:r})]})}var b=r(3589),g=r(8721),m=r(5912),p=r(5471),v=r(8632),y=r(1570),w=r(8563),k=r(6966),N={OS:g.Z,Python:m.Z,Linux:p.Z,Docker:b.Z,Rust:v.Z,Kubernetes:y.Z,ML:w.Z,Go:k.Z},j=function(e){var t=e.courseName,r=e.courseNameFull,f=e.lessons,b=(0,i.s0)(),g=(0,o.useRef)(),m=(0,o.useState)(!1),p=(0,a.Z)(m,2),v=p[0],y=p[1],w=(0,o.useState)(""),k=(0,a.Z)(w,2),j=k[0],S=k[1],Z=(0,o.useState)({}),J=(0,a.Z)(Z,2),I=J[0],C=J[1],O=N[t]||null;(0,o.useEffect)((function(){var e=c.I.onAuthStateChanged(function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){var n,a,o,i,u,d,x,h,m,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}b("/login"),e.next=42;break;case 4:if(S(r.uid),!(n=localStorage.getItem("".concat(r.uid,"-favoriteCourses")))){e.next=13;break}(a=JSON.parse(n))&&a[t]&&y(!0),g.current=a,console.log("cached favorite courses read"),e.next=19;break;case 13:return o=(0,l.JU)(c.db,"users",r.uid,"courses","bookmarks"),e.next=16,(0,l.QT)(o);case 16:i=e.sent,console.log("favorite courses doc read"),i.exists()?((u=i.data())&&u[t]&&y(!0),localStorage.setItem("".concat(r.uid,"-favoriteCourses"),JSON.stringify(u)),g.current=u):b("/courses");case 19:if(!(d=localStorage.getItem("".concat(r.uid,"-").concat(t)))){e.next=25;break}C(JSON.parse(d)),console.log("cached lessons read"),e.next=42;break;case 25:return x=(0,l.JU)(c.db,"users",r.uid,"courseProgress",t),e.next=28,(0,l.QT)(x);case 28:if(h=e.sent,console.log("lessons doc read"),!h.exists()){e.next=36;break}m=h.data(),C(m),localStorage.setItem("".concat(r.uid,"-").concat(t),JSON.stringify(m)),e.next=42;break;case 36:return p={},f.forEach((function(e,t){p[String(t+1)]=!1})),e.next=40,(0,l.pl)(x,p);case 40:C(p),localStorage.setItem("".concat(r.uid,"-").concat(t),JSON.stringify(p));case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[b,t,f]);var L=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.JU)(c.db,"users",j,"courses","bookmarks"),g.current[t]=!g.current[t],e.next=4,(0,l.pl)(r,g.current);case 4:y(!v),localStorage.setItem("".concat(j,"-favoriteCourses"),JSON.stringify(g.current));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.JU)(c.db,"users",j,"courseProgress",t),(a=I)[r]=!a[r],e.next=5,(0,l.pl)(n,a);case 5:C(a),localStorage.setItem("".concat(j,"-").concat(t),JSON.stringify(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{className:"w-auto min-h-[calc(100vh-65px)] max-h-fit bg-gray-100 text-black flex items-center overflow-hidden",children:(0,x.jsxs)("div",{className:"w-full h-full max-w-6xl px-4 py-8 mx-auto flex flex-col justify-center items-center",children:[(0,x.jsx)("h1",{className:"text-4xl font-bold tracking-wider mb-4",children:r}),(0,x.jsxs)(u.rU,{to:"/courses",className:"bg-blue-400 text-white px-4 py-2 mb-6 rounded-3xl flex items-center hover:bg-blue-500 duration-200 group",children:[(0,x.jsx)(d.BMs,{size:16,className:"mr-2 group-hover:rotate-[360deg] duration-200"}),"Go Back"]}),(0,x.jsx)("hr",{className:"w-full border my-4 border-gray-300"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full w-full gap-[1%]",children:[(0,x.jsx)("div",{className:"h-64 w-full p-4 flex justify-center items-center md:justify-end",children:(0,x.jsx)("div",{className:"h-full aspect-square rounded-lg shadow-2xl overflow-hidden bg-contain bg-center bg-no-repeat\r group hover:scale-110 cursor-pointer duration-300 ease-in",id:"img",style:{backgroundImage:"url(".concat(O,")")},onClick:function(){return L()},children:(0,x.jsx)("div",{className:"w-full min-h-full max-h-max group-hover:backdrop-blur-sm group-hover:backdrop-brightness-50\r duration-300 ease-in flex flex-col justify-center",children:(0,x.jsxs)("div",{className:"mx-2 opacity-0 group-hover:opacity-100 duration-300 ease-in\r text-white",children:[(0,x.jsxs)("p",{className:"text-lg font-bold",children:["Like the course? Add it to ",(0,x.jsx)("span",{className:"text-yellow-400",children:"Bookmarks"})," for quick access!"]}),(0,x.jsx)("div",{className:"".concat(v?"text-yellow-400":"text-gray-400"," duration-200 w-full flex items-center justify-center mt-[5%]"),children:(0,x.jsx)(d.QJe,{size:30})})]})})})}),(0,x.jsx)("div",{className:"h-full w-full flex justify-center items-center md:justify-start p-4 ",children:(0,x.jsxs)("div",{className:"h-full w-fit",children:[(0,x.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-center md:text-left",children:[t," Lessons"]}),(0,x.jsx)("div",{className:"flex flex-col gap-4 w-full",children:f.map((function(e,t){return(0,x.jsx)(h,{url:e.url,lessonName:e.name,status:I[t+1],userID:j,toggleLessonStatus:function(){return U(t+1)},id:String(t+1),active:e.active},t)}))})]})})]}),(0,x.jsx)("hr",{className:"w-full border my-4 border-gray-300 md:block hidden"})]})})}}}]);
//# sourceMappingURL=384.cbe8a80b.chunk.js.map